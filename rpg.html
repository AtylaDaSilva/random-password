<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Password Generator</title>
</head>
<body>
    <main>
        <section>
            <form method="dialog">
                <fieldset id="settings">
                    <legend><h2>Settings</h2></legend>

                    <label for="length">Length: </label> <input type="number" name="_length" id="length" required>

                    <input type="checkbox" name="_start" id="start"> <label for="start">Starts with </label>

                    <input type="checkbox" name="_end" id="end"> <label for="end">Ends with</label>

                    <input type="checkbox" name="_numbers" id="numbers"> <label for="numbers">Contains numbers?</label>

                    <input type="checkbox" name="_symbols" id="symbols"> <label for="symbols">Contains symbols?</label>

                    <input type="checkbox" name="_lettersLower" id="lettersLower"> <label for="lettersLower">Contains lower case letters?</label>

                    <input type="checkbox" name="_lettersUpper" id="lettersUpper"> <label for="lettersUpper">Contains upper case letters?</label>

                    <!--Submit Button-->
                    <input type="submit" id="submit" value="Generate Password">
                    <fieldset>
                        <legend><label for="result">
                            <h3>Result</h3>
                        </label></legend>
                        <input type="text" name="_result" id="result" readonly>
                    </fieldset>
                </fieldset>
            </form>
        </section>
    </main>
    <script>
        function generatePassword() {
            var password = "";
            charPool = [
                //Numbers
                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
                //Lower case letters
                ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"],
                //Upper case letters
                ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"]
            ];
            
            //Password Length
            const length = getPasswordLength();

            //Gets a character from charPool and concatenates it to password string
            for (var i = length; i > 0; i--) {
                var index1 = generateIndex(charPool.length);
                var index2 = generateIndex(charPool[index1].length);

                password += charPool[index1][index2];
            }
            
            //Result field. Password generated will be displayed here
            renderPassword(password);
        };

        function getPasswordLength() {
            return parseInt(document.querySelector("#length").value);
        };

        function renderPassword(password) {
            const resultField = document.querySelector("#result");
            resultField.value = password;
        };

        function generateIndex(range) {
            if (range < 1) {
                return 0;
            }

            return Math.floor(Math.random() * range);
        };

        const submit = document.querySelector("#submit");
        submit.addEventListener("click", generatePassword);
    </script>
</body>
</html>